<?php	$db_list = $sysConfig->loadDB();		$id = $pr->post('id');	$oldID = $pr->post('old_id',false);		if($oldID != $id){ 		if(isset($db_list[$id])){$pr->addAlertBox("La sorgente dati <b>{$id}</b> &eacute; gia in uso!")->set('CloseWin',false)->response();}		$old_pwd = $db_list[$oldID]['dbpwd'];		unset($db_list[$oldID]);	}else{		$old_pwd = $db_list[$id]['dbpwd'];	}	$new_pwd = $pr->post('dbpwd') ?: $old_pwd;	$db_list[$id] = array(		'des' => $pr->getString('des'),		'DB' => 'OCI8',		'server' => '(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL = TCP)(HOST = '.$pr->getString('srv_server').')(PORT = '.$pr->getString('srv_port').')))(CONNECT_DATA =(SERVICE_NAME='.$pr->getString('srv_service',$pr->GET_STR_UPPER).')(SERVER = DEDICATED)))',		'lang' =>$pr->getString('lang',$pr->GET_STR_UPPER), // ita = WE8ISO8859P15 ; usa = AL32UTF8		'dbuser' => $pr->getString('dbuser'),//parse_string($_POST['dbuser']), 		'dbpwd' =>  $new_pwd,		'userid' => $pr->post('userid'), // default 0 (per usi futuri)		'userpwd' => $pr->post('userpwd'), // default 0 (per usi futuri)		'hide' => $pr->post('hide')	);		$sysConfig->saveDB($db_list);	$pr->addScript('pi.requestOnLoad("cerca_db");')->response();?>